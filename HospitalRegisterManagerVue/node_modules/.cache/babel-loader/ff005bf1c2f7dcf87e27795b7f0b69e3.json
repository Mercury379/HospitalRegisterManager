{"remainingRequest":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\babel-loader\\lib\\index.js!E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\MyOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\MyOrder.vue","mtime":1705080753971},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001370000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001370000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0LmpzIjsKaW1wb3J0IGp3dERlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15T3JkZXIiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uczogW3sKICAgICAgICBwYXl2YWx1ZTogIjEiLAogICAgICAgIGxhYmVsOiAi5bey57y06LS5IgogICAgICB9LCB7CiAgICAgICAgcGF5dmFsdWU6ICIwIiwKICAgICAgICBsYWJlbDogIuacque8tOi0uSIKICAgICAgfV0sCiAgICAgIHBheXZhbHVlOiAiIiwKICAgICAgb3B0aW9uczI6IFt7CiAgICAgICAgdmFsdWU6ICIxIiwKICAgICAgICBsYWJlbDogIuW3suaMguWPtyIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAiMCIsCiAgICAgICAgbGFiZWw6ICLmnKrmjILlj7ciCiAgICAgIH1dLAogICAgICB2YWx1ZTogIiIsCiAgICAgIHVzZXJJZDogMSwKICAgICAgb3JkZXJEYXRhOiBbXSwKICAgICAgc3RhcjogNSwKICAgICAgc3RhclZpc2libGU6IGZhbHNlLAogICAgICBkSWQ6IDEsCiAgICAgIGROYW1lOiAiIiwKICAgICAgcXVlcnk6ICIiLAogICAgICBjaG9vc2VkYXRhOiAiIgogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvL+afpeeci+aKpeWRiuWNlQogICAgc2VlUmVwb3J0KGlkKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImh0dHA6Ly9sb2NhbGhvc3Q6OTI4MS9wYXRpZW50L3BkZj9vSWQ9IiArIGlkOwogICAgfSwKCiAgICAvL+eCueWHu+e8tOi0ueaMiemSrgogICAgcHJpY2VDbGljayhvSWQsIGRJZCkgewogICAgICByZXF1ZXN0LmdldCgib3JkZXIvdXBkYXRlUHJpY2UiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBvSWQ6IG9JZAogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35rGC5pWw5o2u5aSx6LSlIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWNleWPtyAiICsgb0lkICsgIiDnvLTotLnmiJDlip/vvIEiKTsgLy8gcmVxdWVzdAogICAgICAgIC8vICAgLmdldCgiYWRtaW4vZmluZERvY3RvciIsIHsKICAgICAgICAvLyAgICAgcGFyYW1zOiB7CiAgICAgICAgLy8gICAgICAgZElkOiBkSWQsCiAgICAgICAgLy8gICAgIH0sCiAgICAgICAgLy8gICB9KQogICAgICAgIC8vICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDApCiAgICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+axguaVsOaNruWksei0pSIpOwogICAgICAgIC8vICAgICB0aGlzLmRJZCA9IHJlcy5kYXRhLmRhdGEuZElkOwogICAgICAgIC8vICAgICB0aGlzLmROYW1lID0gcmVzLmRhdGEuZGF0YS5kTmFtZTsKICAgICAgICAvLyAgIH0pOwogICAgICAgIC8vIHRoaXMuc3RhclZpc2libGUgPSB0cnVlOwoKICAgICAgICB0aGlzLnJlcXVlc3RPcmRlcigpOwogICAgICB9KTsKICAgIH0sCgogICAgLy/or7fmsYLmjILlj7fkv6Hmga8KICAgIHJlcXVlc3RPcmRlcigpIHsKICAgICAgcmVxdWVzdC5nZXQoInBhdGllbnQvZmluZE9yZGVyQnlQaWQiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwSWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgY2hvb3NlZGF0YTogdGhpcy5jaG9vc2VkYXRhLAogICAgICAgICAgLy/mlrDlop7nlKjmiLfovpPlhaXnmoTml6XmnJ9jaG9vc2VkYXRh77yM5qC85byP5Li6eXl5eS1tbS1kZO+8jOm7mOiupOS4uicnCiAgICAgICAgICBwYXl2YWx1ZTogdGhpcy5wYXl2YWx1ZSwKICAgICAgICAgIC8v5paw5aKe55So5oi36L6T5YWl55qE57y06LS554q25oCBcGF5dmFsdWXvvIww6KGo56S65pyq57y06LS5LDHooajnpLrlt7LnvLTotLnvvIzpu5jorqTkuLonJwogICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUgLy/mlrDlop7nlKjmiLfovpPlhaXnmoTmjILlj7fnirbmgIF2YWx1Ze+8jDDooajnpLrmnKrmjILlj7fvvIwx6KGo56S65bey5oyC5Y+377yM6buY6K6k5Li6JycKCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKSB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fmsYLmlbDmja7lpLHotKUiKTsKICAgICAgICB0aGlzLm9yZGVyRGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlckRhdGEub0lkKTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9yZGVyRGF0YS5wTmFtZSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vdG9rZW7op6PnoIEKICAgIHRva2VuRGVjb2RlKHRva2VuKSB7CiAgICAgIGlmICh0b2tlbiAhPT0gbnVsbCkgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICAvLyDop6PnoIF0b2tlbgogICAgLy90aGlzLm9yZGVyRGF0YS5wTmFtZSA9IHRoaXMudG9rZW5EZWNvZGUoZ2V0VG9rZW4oKSkucE5hbWU7CiAgICAvL3RoaXMub3JkZXJEYXRhLnBDYXJkID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5wQ2FyZDsKICAgIHRoaXMudXNlcklkID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5wSWQ7CiAgICBjb25zb2xlLmxvZyh0aGlzLm9yZGVyRGF0YS5wTmFtZSk7IC8vdGhpcy5vcmRlckRhdGEucE5hbWUgPSAiZGFzZGEiCgogICAgdGhpcy5yZXF1ZXN0T3JkZXIoKTsKICB9Cgp9Ow=="},{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-card style=\"background-color: #fff5ee9f;\">\n      <el-date-picker\n        v-model=\"choosedata\"\n        type=\"date\"\n        placeholder=\"请选择日期\"\n        style=\"margin-right: 30px;\"\n      >\n      </el-date-picker>\n      <el-select\n        v-model=\"payvalue\"\n        placeholder=\"请选择缴费状态\"\n        style=\"margin-right: 30px;\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.payvalue\"\n          :label=\"item.label\"\n          :value=\"item.payvalue\"\n        >\n        </el-option>\n      </el-select>\n      <el-select\n        v-model=\"value\"\n        placeholder=\"请选择挂号状态\"\n        style=\"margin-right: 30px;\"\n      >\n        <el-option\n          v-for=\"item in options2\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n      <el-button\n        style=\"font-size: 18px;margin-bottom: 30px;\"\n        @click=\"requestOrder\"\n      >\n        搜索</el-button\n      >\n      <el-table :data=\"orderData\" stripe style=\"width: 100%\" border>\n        <el-table-column\n          prop=\"oId\"\n          label=\"挂号单号\"\n          width=\"75px\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"pId\"\n          label=\"本人id\"\n          width=\"75px\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"pName\"\n          label=\"姓名\"\n          width=\"75px\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"dSection\"\n          label=\"科室\"\n          width=\"75px\"\n        ></el-table-column>\n\n        <el-table-column\n          prop=\"dName\"\n          label=\"医生姓名\"\n          width=\"75px\"\n        ></el-table-column>\n\n        <el-table-column\n          prop=\"oRegisterTime\"\n          label=\"挂号时间\"\n          width=\"195px\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"oTotalPrice\"\n          label=\"需交费用/元\"\n          width=\"80px\"\n        ></el-table-column>\n        <el-table-column prop=\"oPriceStatus\" label=\"缴费状态\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"success\" v-if=\"scope.row.oPriceStatus === 1\"\n              >已缴费</el-tag\n            >\n            <el-tag type=\"danger\" v-if=\"scope.row.oPriceStatus === 0 && scope.row.oStatus === 1\">未缴费</el-tag>\n            <el-button\n              type=\"warning\"\n              style=\"font-size: 14px\"\n              v-if=\"scope.row.oPriceStatus === 0 && scope.row.oStatus === 1\"\n              @click=\"priceClick(scope.row.oId, scope.row.dId)\"\n            >\n              点击缴费</el-button\n            >\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"oStatus\" label=\"挂号状态\" width=\"100px\">\n          <template slot-scope=\"scope\">\n            <el-tag\n              type=\"success\"\n              v-if=\"scope.row.oStatus === 1 && scope.row.oPriceStatus === 1\"\n              >已完成</el-tag\n            >\n            <el-tag\n              type=\"danger\"\n              v-if=\"scope.row.oStatus === 0 && scope.row.oStatus === 0\"\n              >未完成</el-tag\n            >\n          </template>\n        </el-table-column>\n        <el-table-column label=\"报告单\" fixed=\"right\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"success\"\n              style=\"font-size: 14px\"\n              @click=\"seeReport(scope.row.oId)\"\n              v-if=\"scope.row.oStatus === 1 && scope.row.oPriceStatus === 1\"\n            >\n              查看</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request.js\";\nimport jwtDecode from \"jwt-decode\";\nimport { getToken } from \"@/utils/storage.js\";\nexport default {\n  name: \"MyOrder\",\n  data() {\n    return {\n      options: [\n        {\n          payvalue: \"1\",\n          label: \"已缴费\",\n        },\n        {\n          payvalue: \"0\",\n          label: \"未缴费\",\n        },\n      ],\n      payvalue: \"\",\n      options2: [\n        {\n          value: \"1\",\n          label: \"已挂号\",\n        },\n        {\n          value: \"0\",\n          label: \"未挂号\",\n        },\n      ],\n      value: \"\",\n      userId: 1,\n      orderData: [],\n      star: 5,\n      starVisible: false,\n      dId: 1,\n      dName: \"\",\n      query: \"\",\n      choosedata: \"\",\n    };\n  },\n  methods: {\n    //查看报告单\n    seeReport(id) {\n      window.location.href = \"http://localhost:9281/patient/pdf?oId=\" + id;\n    },\n    //点击缴费按钮\n    priceClick(oId, dId) {\n      request\n        .get(\"order/updatePrice\", {\n          params: {\n            oId: oId,\n          },\n        })\n        .then((res) => {\n          if (res.data.status !== 200) {\n            this.$message.error(\"请求数据失败\");\n            return;\n          }\n          this.$message.success(\"单号 \" + oId + \" 缴费成功！\");\n          // request\n          //   .get(\"admin/findDoctor\", {\n          //     params: {\n          //       dId: dId,\n          //     },\n          //   })\n          //   .then((res) => {\n          //     if (res.data.status !== 200)\n          //       return this.$message.error(\"请求数据失败\");\n          //     this.dId = res.data.data.dId;\n          //     this.dName = res.data.data.dName;\n          //   });\n          // this.starVisible = true;\n          this.requestOrder();\n        });\n    },\n    //请求挂号信息\n    requestOrder() {\n      request\n        .get(\"patient/findOrderByPid\", {\n          params: {\n            pId: this.userId,\n            choosedata: this.choosedata, //新增用户输入的日期choosedata，格式为yyyy-mm-dd，默认为''\n            payvalue: this.payvalue, //新增用户输入的缴费状态payvalue，0表示未缴费,1表示已缴费，默认为''\n            value: this.value, //新增用户输入的挂号状态value，0表示未挂号，1表示已挂号，默认为''\n          },\n        })\n        .then((res) => {\n          if (res.data.status !== 200) this.$message.error(\"请求数据失败\");\n          this.orderData = res.data.data;\n          console.log(this.orderData.oId);\n          console.log(this.orderData.pName);\n          console.log(res);\n        });\n    },\n    //token解码\n    tokenDecode(token) {\n      if (token !== null) return jwtDecode(token);\n    },\n  },\n  created() {\n    // 解码token\n    //this.orderData.pName = this.tokenDecode(getToken()).pName;\n    //this.orderData.pCard = this.tokenDecode(getToken()).pCard;\n    this.userId = this.tokenDecode(getToken()).pId;\n    console.log(this.orderData.pName);\n    //this.orderData.pName = \"dasda\"\n    this.requestOrder();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.el-dialog div {\n  text-align: center;\n  margin-bottom: 8px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}