{"remainingRequest":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\ChairList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\ChairList.vue","mtime":1705079915294},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001370000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001370000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoZWNrTGlzdCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VOdW1iZXI6IDEsCiAgICAgIHNpemU6IDgsCiAgICAgIHF1ZXJ5OiAiIiwKICAgICAgY2hhaXJEYXRhOiBbXSwKICAgICAgdG90YWw6IDMsCiAgICAgIGFkZEZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgYWRkRm9ybToge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY0lkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5qSF5Y+3IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgICAgICBtZXNzYWdlOiAi5qSF5Y+35b+F6aG75pWw5a2X57G75Z6LIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5riF56m65qSF5L2N5pON5L2cCiAgICBlbXB0eUNoYWlyKGlkKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAuZ2V0KCJjaGFpci9lbXB0eUNoYWlyIiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNJZDogaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5yZXF1ZXN0Q2hhaXJzKCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v5riF56m65a+56K+d5qGGCiAgICBlbXB0eURpYWxvZyhpZCkgewogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbmuIXnqbror6XmpIXkvY0sIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbXB0eUNoYWlyKGlkKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmuIXnqbrmiJDlip8hIiwKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojmuIXnqboiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8v5Yig6Zmk5qSF5L2N5pON5L2cCiAgICBkZWxldGVDaGFpcihpZCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgiY2hhaXIvZGVsZXRlQ2hhaXIiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgY0lkOiBpZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnJlcXVlc3RDaGFpcnMoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy/liKDpmaTlr7nor53moYYKICAgIGRlbGV0ZURpYWxvZyhpZCkgewogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbliKDpmaTor6XmpIXkvY0sIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kZWxldGVDaGFpcihpZCk7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISIsCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIiwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v54K55Ye75aKe5Yqg56Gu6K6k5oyJ6ZKuCiAgICBhZGRDaGFpcihmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgLmdldCgiY2hhaXIvYWRkQ2hhaXIiLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBjSWQ6IHRoaXMuYWRkRm9ybS5jSWQsCiAgICAgICAgICAgICAgICBwSWQ6IC0xLAogICAgICAgICAgICAgICAgZElkOiAtMSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuakheWPt+aIluW3suiiq+WNoOeUqO+8gSIpOwogICAgICAgICAgICAgIHRoaXMuYWRkRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RDaGFpcnMoKTsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWinuWKoOakheS9jeaIkOWKn++8gSIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6aG16Z2i5aSn5bCP5pS55Y+Y5pe26Kem5Y+RCiAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsKICAgICAgdGhpcy5zaXplID0gc2l6ZTsKICAgICAgdGhpcy5yZXF1ZXN0Q2hhaXJzKCk7CiAgICB9LAogICAgLy8gICDpobXnoIHmlLnlj5jml7bop6blj5EKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobnVtKSB7CiAgICAgIGNvbnNvbGUubG9nKG51bSk7CiAgICAgIHRoaXMucGFnZU51bWJlciA9IG51bTsKICAgICAgdGhpcy5yZXF1ZXN0Q2hhaXJzKCk7CiAgICB9LAogICAgLy8g5Yqg6L295qOA5p+l5YiX6KGoCiAgICByZXF1ZXN0Q2hhaXJzKCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgiY2hhaXIvZmluZEFsbENoYWlycyIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBwYWdlTnVtYmVyOiB0aGlzLnBhZ2VOdW1iZXIsCiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSwKICAgICAgICAgICAgcXVlcnk6IHRoaXMucXVlcnksCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5jaGFpckRhdGEgPSByZXMuZGF0YS5kYXRhLmNoYWlyczsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlcXVlc3RDaGFpcnMoKTsKICB9LAp9Owo="},{"version":3,"sources":["ChairList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChairList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- 卡片 -->\n    <el-card style=\"background-color: #fff5ee9f;\">\n      <!-- 搜索栏及增加检查 -->\n      <el-row type=\"flex\">\n        <el-col :span=\"6\">\n          <el-input v-model=\"query\" placeholder=\"请输入患者id查询\">\n            <el-button\n              slot=\"append\"\n              @click=\"requestChairs\"\n              style=\"font-size: 18px\"\n            >\n              搜索</el-button\n            >\n          </el-input>\n        </el-col>\n        <el-col :span=\"6\"></el-col>\n        <el-col :span=\"6\">\n          <el-button\n            type=\"info\"\n            class=\"logup\"\n            style=\"font-size: 18px\"\n            @click=\"addFormVisible = true\"\n          >\n            增加手术椅</el-button\n          >\n        </el-col>\n      </el-row>\n      <!-- 表格 -->\n      <el-table :data=\"chairData\" stripe style=\"width: 100%\" border>\n        <el-table-column label=\"椅子位\" prop=\"cId\"></el-table-column>\n        <el-table-column label=\"所属科室\" prop=\"cSection\"></el-table-column>\n        <el-table-column label=\"所属院区\" prop=\"cArea\"></el-table-column>\n        <el-table-column label=\"楼层\" prop=\"cLocation\"></el-table-column>\n        <!-- <el-table-column label=\"状态\" prop=\"cOrder\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.cstatus == 1\" type=\"danger\">已占用</el-tag>\n            <el-tag v-if=\"scope.row.cstatus == 0\" type=\"success\">空</el-tag>\n          </template>\n        </el-table-column> -->\n\n        <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button\n              style=\"font-size: 18px\"\n              type=\"success\"\n              @click=\"emptyDialog(scope.row.cId)\"\n            >\n              清空</el-button\n            >\n            <el-button\n              style=\"font-size: 18px\"\n              type=\"danger\"\n              @click=\"deleteDialog(scope.row.cId)\"\n            >\n              删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :current-page=\"pageNumber\"\n        :page-size=\"size\"\n        :page-sizes=\"[1, 2, 4, 8, 16]\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </el-card>\n\n    <!-- 增加椅位对话框 -->\n    <el-dialog title=\"增加椅位\" :visible.sync=\"addFormVisible\">\n      <el-form :model=\"addForm\" :rules=\"rules\" ref=\"ruleForm\">\n        <el-form-item label=\"椅号\" prop=\"cId\" label-width=\"80px\">\n          <el-input v-model.number=\"addForm.cId\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addFormVisible = false\" style=\"font-size: 18px;\">\n          取 消</el-button\n        >\n        <el-button\n          type=\"primary\"\n          @click=\"addChair('ruleForm')\"\n          style=\"font-size: 18px;\"\n        >\n          确 定</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request.js\";\n\nexport default {\n  name: \"CheckList\",\n  data() {\n    return {\n      pageNumber: 1,\n      size: 8,\n      query: \"\",\n      chairData: [],\n      total: 3,\n      addFormVisible: false,\n      addForm: {},\n      rules: {\n        cId: [\n          { required: true, message: \"请输入椅号\", trigger: \"blur\" },\n          {\n            type: \"number\",\n            message: \"椅号必须数字类型\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    //清空椅位操作\n    emptyChair(id) {\n      request\n        .get(\"chair/emptyChair\", {\n          params: {\n            cId: id,\n          },\n        })\n        .then((res) => {\n          this.requestChairs();\n          console.log(res);\n        });\n    },\n    //清空对话框\n    emptyDialog(id) {\n      this.$confirm(\"此操作将清空该椅位, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.emptyChair(id);\n          this.$message({\n            type: \"success\",\n            message: \"清空成功!\",\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消清空\",\n          });\n        });\n    },\n\n    //删除椅位操作\n    deleteChair(id) {\n      request\n        .get(\"chair/deleteChair\", {\n          params: {\n            cId: id,\n          },\n        })\n        .then((res) => {\n          this.requestChairs();\n          console.log(res);\n        });\n    },\n    //删除对话框\n    deleteDialog(id) {\n      this.$confirm(\"此操作将删除该椅位, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.deleteChair(id);\n          this.$message({\n            type: \"success\",\n            message: \"删除成功!\",\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    //点击增加确认按钮\n    addChair(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          request\n            .get(\"chair/addChair\", {\n              params: {\n                cId: this.addForm.cId,\n                pId: -1,\n                dId: -1,\n              },\n            })\n            .then((res) => {\n              if (res.data.status !== 200)\n                return this.$message.error(\"椅号或已被占用！\");\n              this.addFormVisible = false;\n              this.requestChairs();\n              this.$message.success(\"增加椅位成功！\");\n              console.log(res);\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //页面大小改变时触发\n    handleSizeChange(size) {\n      this.size = size;\n      this.requestChairs();\n    },\n    //   页码改变时触发\n    handleCurrentChange(num) {\n      console.log(num);\n      this.pageNumber = num;\n      this.requestChairs();\n    },\n    // 加载检查列表\n    requestChairs() {\n      request\n        .get(\"chair/findAllChairs\", {\n          params: {\n            pageNumber: this.pageNumber,\n            size: this.size,\n            query: this.query,\n          },\n        })\n        .then((res) => {\n          this.chairData = res.data.data.chairs;\n          this.total = res.data.data.total;\n        });\n    },\n  },\n  created() {\n    this.requestChairs();\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.el-table {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.el-form {\n  margin-top: 0;\n}\n</style>\n"]}]}