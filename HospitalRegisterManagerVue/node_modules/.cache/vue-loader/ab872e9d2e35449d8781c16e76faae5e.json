{"remainingRequest":"E:\\software\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\HospitalManagerVue\\src\\views\\PatientList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\HospitalManagerVue\\src\\views\\PatientList.vue","mtime":1704992526000},{"path":"E:\\software\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\software\\HospitalManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001370000},{"path":"E:\\software\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\software\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001370000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBhdGllbnRMaXN0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgc2l6ZTogOCwKICAgICAgcXVlcnk6ICIiLAogICAgICBwYXRpZW50RGF0YTogW10sCiAgICAgIHRvdGFsOiAzLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5Yig6Zmk55eF5Lq65pON5L2cCiAgICBkZWxldGVQYXRpZW50KGlkKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAuZ2V0KCJhZG1pbi9kZWxldGVQYXRpZW50IiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHBJZDogaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5yZXF1ZXN0UGF0aWVudHMoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy/liKDpmaTlr7nor53moYYKICAgIGRlbGV0ZURpYWxvZyhpZCkgewogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbliKDpmaTor6XmgqPogIXkv6Hmga8sIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kZWxldGVQYXRpZW50KGlkKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIiwKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojliKDpmaQiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy/pobXpnaLlpKflsI/mlLnlj5jml7bop6blj5EKICAgIGhhbmRsZVNpemVDaGFuZ2Uoc2l6ZSkgewogICAgICB0aGlzLnNpemUgPSBzaXplOwogICAgICB0aGlzLnJlcXVlc3RQYXRpZW50cygpOwogICAgfSwKICAgIC8vICAg6aG156CB5pS55Y+Y5pe26Kem5Y+RCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG51bSkgewogICAgICBjb25zb2xlLmxvZyhudW0pOwogICAgICB0aGlzLnBhZ2VOdW1iZXIgPSBudW07CiAgICAgIHRoaXMucmVxdWVzdFBhdGllbnRzKCk7CiAgICB9LAogICAgLy8g5Yqg6L295oKj6ICF5YiX6KGoCiAgICByZXF1ZXN0UGF0aWVudHMoKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAuZ2V0KCJhZG1pbi9maW5kQWxsUGF0aWVudHMiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcGFnZU51bWJlcjogdGhpcy5wYWdlTnVtYmVyLAogICAgICAgICAgICBzaXplOiB0aGlzLnNpemUsCiAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5LAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucGF0aWVudERhdGEgPSByZXMuZGF0YS5kYXRhLnBhdGllbnRzOwoKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlcXVlc3RQYXRpZW50cygpOwogIH0sCn07Cg=="},{"version":3,"sources":["PatientList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PatientList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <!-- 卡片 -->\n  <el-card style=\"background-color: #fff5ee9f;\">\n\n    <!-- 搜索栏 -->\n    <el-row type=\"flex\">\n      <el-col :span=\"6\">\n        <el-input v-model=\"query\" placeholder=\"请输入姓名查询\">\n          <el-button\n            slot=\"append\"\n            style=\"font-size: 18px;\"\n            @click=\"requestPatients\"\n          >\n            搜索</el-button\n          >\n        </el-input>\n      </el-col>\n    </el-row>\n    <!-- 表格 -->\n    <el-table :data=\"patientData\" stripe style=\"width: 100%\" border>\n      <el-table-column prop=\"pId\" label=\"账号\" width=\"100\"> </el-table-column>\n      <el-table-column prop=\"pName\" label=\"姓名\" width=\"80\"> </el-table-column>\n      <el-table-column prop=\"pGender\" label=\"性别\" width=\"60\">\n      </el-table-column>\n      <el-table-column prop=\"pAge\" label=\"年龄/岁\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"pCard\" label=\"证件号\"> </el-table-column>\n      <el-table-column prop=\"pPhone\" label=\"手机号\"> </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      background\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :current-page=\"pageNumber\"\n      :page-size=\"size\"\n      :page-sizes=\"[1, 2, 4, 8, 16]\"\n      :total=\"total\"\n    >\n    </el-pagination>\n  </el-card>\n</template>\n<script>\nimport request from \"@/utils/request.js\";\n\nexport default {\n  name: \"PatientList\",\n  data() {\n    return {\n      pageNumber: 1,\n      size: 8,\n      query: \"\",\n      patientData: [],\n      total: 3,\n    };\n  },\n  methods: {\n    //删除病人操作\n    deletePatient(id) {\n      request\n        .get(\"admin/deletePatient\", {\n          params: {\n            pId: id,\n          },\n        })\n        .then((res) => {\n          this.requestPatients();\n          console.log(res);\n        });\n    },\n    //删除对话框\n    deleteDialog(id) {\n      this.$confirm(\"此操作将删除该患者信息, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.deletePatient(id);\n          this.$message({\n            type: \"success\",\n            message: \"删除成功!\",\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    //页面大小改变时触发\n    handleSizeChange(size) {\n      this.size = size;\n      this.requestPatients();\n    },\n    //   页码改变时触发\n    handleCurrentChange(num) {\n      console.log(num);\n      this.pageNumber = num;\n      this.requestPatients();\n    },\n    // 加载患者列表\n    requestPatients() {\n      request\n        .get(\"admin/findAllPatients\", {\n          params: {\n            pageNumber: this.pageNumber,\n            size: this.size,\n            query: this.query,\n          },\n        })\n        .then((res) => {\n          this.patientData = res.data.data.patients;\n\n          this.total = res.data.data.total;\n        });\n    },\n  },\n  created() {\n    this.requestPatients();\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.el-table {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.el-form {\n  margin-top: 0;\n}\n</style>\n"]}]}