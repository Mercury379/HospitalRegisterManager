{"remainingRequest":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\OrderToday.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\src\\views\\OrderToday.vue","mtime":1705080785966},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001370000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"E:\\HospitalAppointmentRegistration\\HospitalManager1\\HospitalManager\\HospitalRegisterManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001370000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqd3REZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXJUb2RheSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJZDogMSwKICAgICAgdXNlck5hbWU6ICJkYWRhIiwKICAgICAgdG9kYXk6ICIiLAoKICAgICAgb3JkZXJEYXRhOiBbXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+aMguWPt+WkhOeQhi8v6aG16Z2i6Lez6L2s5Lyg5YC8CiAgICBkZWFsQ2xpY2sob0lkLCBwSWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvZGVhbE9yZGVyIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgb0lkOiBvSWQsCiAgICAgICAgICBwSWQ6IHBJZCwKICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCiAgICAvL+aMieetvuWIsOeKtuaAgeaOkuW6jwogICAgcmVxdWVzdE9yZGVyKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnRvZGF5KTsKICAgICAgcmVxdWVzdAogICAgICAgIC5nZXQoImRvY3Rvci9maW5kT3JkZXJCeU51bGwiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgZElkOiB0aGlzLnVzZXJJZCwKICAgICAgICAgICAgb1JlZ2lzdGVyVGltZTogdGhpcy50b2RheSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9IDIwMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluaVsOaNruWksei0pSIpOwogICAgICAgICAgdGhpcy5vcmRlckRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vdG9rZW7op6PnoIEKICAgIHRva2VuRGVjb2RlKHRva2VuKSB7CiAgICAgIGlmICh0b2tlbiAhPT0gbnVsbCkgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7CiAgICB9LAogICAgLy/ojrflj5blvZPlpKnml6XmnJ8KICAgIG5vd0RheSgpIHsKICAgICAgY29uc3Qgbm93RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIGxldCBkYXRlID0gewogICAgICAgIHllYXI6IG5vd0RhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICBtb250aDogbm93RGF0ZS5nZXRNb250aCgpICsgMSwKICAgICAgICBkYXRlOiBub3dEYXRlLmdldERhdGUoKSwKICAgICAgfTsKICAgICAgaWYgKGRhdGUuZGF0ZSA8IDEwKSB7CiAgICAgICAgZGF0ZS5kYXRlID0gIjAiICsgZGF0ZS5kYXRlOwogICAgICB9CiAgICAgIGlmIChkYXRlLm1vbnRoIDwgMTApIHsKICAgICAgICBkYXRlLm1vbnRoID0gIjAiICsgZGF0ZS5tb250aDsKICAgICAgfQogICAgICB0aGlzLnRvZGF5ID0gZGF0ZS55ZWFyICsgIi0iICsgZGF0ZS5tb250aCArICItIiArIGRhdGUuZGF0ZTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy/op6PnoIF0b2tlbuS/oeaBrwogICAgdGhpcy51c2VySWQgPSB0aGlzLnRva2VuRGVjb2RlKGdldFRva2VuKCkpLmRJZDsKICAgIHRoaXMudXNlck5hbWUgPSB0aGlzLnRva2VuRGVjb2RlKGdldFRva2VuKCkpLmROYW1lOwogICAgY29uc29sZS5sb2codGhpcy51c2VySWQpOwogICAgY29uc29sZS5sb2codGhpcy51c2VyTmFtZSk7CiAgICAvL+iOt+WPluW9k+WkqeaXpeacnwogICAgdGhpcy5ub3dEYXkoKTsKICAgIC8v6I635Y+W6K6i5Y2V5L+h5oGvCiAgICB0aGlzLnJlcXVlc3RPcmRlcigpOwogIH0sCn07Cg=="},{"version":3,"sources":["OrderToday.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderToday.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <el-card style=\"background-color: #fff5ee9f;\">\n    <el-table :data=\"orderData\" stripe border>\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\"> </el-table-column>\n      <el-table-column label=\"挂号单号\" prop=\"oId\"></el-table-column>\n      <el-table-column label=\"患者id\" prop=\"pId\"></el-table-column>\n      <el-table-column label=\"患者姓名\" prop=\"pName\"></el-table-column>\n      <el-table-column label=\"医生姓名\" prop=\"dName\"></el-table-column>\n      <el-table-column\n        label=\"挂号时间\"\n        prop=\"oRegisterTime\"\n        width=\"200px\"\n      ></el-table-column>\n      <el-table-column label=\"签到时间\" prop=\"oSignTime\"></el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"warning\"\n            style=\"font-size: 18px\"\n            @click=\"dealClick(scope.row.oId, scope.row.pId)\"\n            v-if=\"scope.row.oSignTime != null\"\n          >\n            <i class=\"iconfont icon-r-love\" style=\"font-size: 26px\"></i>\n            处理\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-card>\n</template>\n<script>\nimport jwtDecode from \"jwt-decode\";\nimport { getToken } from \"@/utils/storage.js\";\n\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"orderToday\",\n  data() {\n    return {\n      userId: 1,\n      userName: \"dada\",\n      today: \"\",\n\n      orderData: [],\n    };\n  },\n  methods: {\n    //挂号处理//页面跳转传值\n    dealClick(oId, pId) {\n      this.$router.push({\n        path: \"/dealOrder\",\n        query: {\n          oId: oId,\n          pId: pId,\n        },\n      });\n    },\n    //按签到状态排序\n    requestOrder() {\n      console.log(this.today);\n      request\n        .get(\"doctor/findOrderByNull\", {\n          params: {\n            dId: this.userId,\n            oRegisterTime: this.today,\n          },\n        })\n        .then((res) => {\n          if (res.data.status != 200)\n            return this.$message.error(\"获取数据失败\");\n          this.orderData = res.data.data;\n        });\n    },\n    //token解码\n    tokenDecode(token) {\n      if (token !== null) return jwtDecode(token);\n    },\n    //获取当天日期\n    nowDay() {\n      const nowDate = new Date();\n      let date = {\n        year: nowDate.getFullYear(),\n        month: nowDate.getMonth() + 1,\n        date: nowDate.getDate(),\n      };\n      if (date.date < 10) {\n        date.date = \"0\" + date.date;\n      }\n      if (date.month < 10) {\n        date.month = \"0\" + date.month;\n      }\n      this.today = date.year + \"-\" + date.month + \"-\" + date.date;\n    },\n  },\n  created() {\n    //解码token信息\n    this.userId = this.tokenDecode(getToken()).dId;\n    this.userName = this.tokenDecode(getToken()).dName;\n    console.log(this.userId);\n    console.log(this.userName);\n    //获取当天日期\n    this.nowDay();\n    //获取订单信息\n    this.requestOrder();\n  },\n};\n</script>\n"]}]}